<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>RISC-V RERI Architecture Specification :: RISC-V Ratified Specifications Library</title>
    <meta name="description" content="RISC-V RAS Error Record Register Interface Specification">
    <meta name="generator" content="Antora 3.1.12">
    <script>
!function (theme, navWidth) {
  if (theme === 'dark') document.documentElement.classList.add('dark-theme')
  if (navWidth) document.documentElement.style.setProperty('--nav-width', `${navWidth}px`)
}(localStorage && localStorage.getItem('theme') || (matchMedia('(prefers-color-scheme: dark)')?.matches && 'dark'),
  localStorage && localStorage.getItem('nav-width'))
    </script>
    <link rel="stylesheet" href="../../_/css/site.css">
    <link rel="stylesheet" href="../../_/css/vendor/search.css">
    <link rel="stylesheet" href="../../_/css/vendor/page-search.css">
    <link rel="stylesheet" href="../../_/css/vendor/spring-tabs.css">

    <meta name="antora-ui-version" content="24b0ea9bb868390e1ef3290e476fd66788c083d5"> 
    <meta name="version" content="v1.0">
    <meta name="component" content="reri">
    <meta name="latest-version" content="false">
    <link rel="icon" href="../../_/img/favicon.ico" type="image/vnd.microsoft.icon">
  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="../..">RISC-V Ratified Specifications Library</a>
      <button class="navbar-burger" aria-controls="topbar-nav" aria-expanded="false" aria-label="Toggle main menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
        <div class="navbar-item">
          <span class="control">
            <a class="button is-primary" href="#">Download</a>
          </span>
        </div>
      </div>
    </div>
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="reri" data-version="v1.0">
  <aside class="nav">
    <div class="panels">
      <div class="nav-panel-menu is-active" data-panel="menu">
        <nav class="nav-menu">
<div class="context">
  <span class="title">RERI Architecture</span>
  <span class="version">v1.0</span>
  <button class="browse-version" id="browse-version">
    <svg
      height="24px"
      id="Layer_1"
      style="enable-background:new 0 0 512 512;"
      version="1.1"
      viewBox="0 0 512 512"
      width="24px"
      xml:space="preserve"
    ><g><path
          d="M256,224c-17.7,0-32,14.3-32,32s14.3,32,32,32c17.7,0,32-14.3,32-32S273.7,224,256,224L256,224z"
        ></path><path
          d="M128.4,224c-17.7,0-32,14.3-32,32s14.3,32,32,32c17.7,0,32-14.3,32-32S146,224,128.4,224L128.4,224z"
        ></path><path
          d="M384,224c-17.7,0-32,14.3-32,32s14.3,32,32,32s32-14.3,32-32S401.7,224,384,224L384,224z"
        ></path></g></svg>
  </button>
  </div><ul class="nav-list">
  <li class="nav-item" data-depth="0">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">RAS Error Record Register Interface</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="reri_contributors.html">Contributors</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="reri_intro.html">Introduction</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link"  href="reri_err_reporting.html">Error Reporting</a>
  </li>
</ul>
  </li>
</ul>
          <div class="toggle-sm">
            <button id="nav-toggle-2" class="nav-toggle"></button>
          </div>
        </nav>
      </div>
      <div class="nav-collapse">
        <button id="nav-collapse-toggle"><span></span></button>        
      </div>
    </div>
    <div class="nav-resize"></div>
  </aside>
</div>
<script>
!function (sidebar) {
  if (sidebar) {
    document.body.classList.add('nav-sm')
  }
}(localStorage && localStorage.getItem('sidebar') === 'close')
</script><main class="article">
<div class="toolbar" role="navigation">
  <button id="nav-toggle-1" class="nav-toggle"></button>
</div>
  <div class="content">
<aside class="sidebar">
  <div class="content">
    <div
      class="toc"
      data-title="RISC-V RERI Architecture Specification"
      data-levels="2"
    >
      <div class="toc-menu"></div>
    </div>
    <div class="sidebar-links">
        <a href="https://github.com/riscv-non-isa/riscv-ras-eri/edit/antora-refactor/modules/ROOT/pages/reri_header.adoc">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="24"
            viewBox="0 0 24 24"
            width="24"
          ><path
              d="m16 2.012 3 3L16.713 7.3l-3-3zM4 14v3h3l8.299-8.287-3-3zm0 6h16v2H4z"
            ></path></svg>
          Edit this Page
        </a>
              <a href="https://github.com/riscv-non-isa/riscv-ras-eri" title="GitHub">
          <svg
            xmlns="http://www.w3.org/2000/svg"
            height="512px"
            id="Layer_1"
            version="1.1"
            viewBox="0 0 512 512"
            width="512px"
          ><style type="text/css"><![CDATA[
              .st0{fill-rule:evenodd;clip-rule:evenodd;} ]]></style><g><path
                class="st0"
                d="M256,32C132.3,32,32,134.8,32,261.7c0,101.5,64.2,187.5,153.2,217.9c11.2,2.1,15.3-5,15.3-11.1   c0-5.5-0.2-19.9-0.3-39.1c-62.3,13.9-75.5-30.8-75.5-30.8c-10.2-26.5-24.9-33.6-24.9-33.6c-20.3-14.3,1.5-14,1.5-14   c22.5,1.6,34.3,23.7,34.3,23.7c20,35.1,52.4,25,65.2,19.1c2-14.8,7.8-25,14.2-30.7c-49.7-5.8-102-25.5-102-113.5   c0-25.1,8.7-45.6,23-61.6c-2.3-5.8-10-29.2,2.2-60.8c0,0,18.8-6.2,61.6,23.5c17.9-5.1,37-7.6,56.1-7.7c19,0.1,38.2,2.6,56.1,7.7   c42.8-29.7,61.5-23.5,61.5-23.5c12.2,31.6,4.5,55,2.2,60.8c14.3,16.1,23,36.6,23,61.6c0,88.2-52.4,107.6-102.3,113.3   c8,7.1,15.2,21.1,15.2,42.5c0,30.7-0.3,55.5-0.3,63c0,6.1,4,13.3,15.4,11C415.9,449.1,480,363.1,480,261.7   C480,134.8,379.7,32,256,32z"
              ></path></g></svg>
          GitHub Project
        </a>
    </div>
  </div>
</aside>
<article class="doc">
<div class="breadcrumbs-container">
  <nav class="breadcrumbs" aria-label="breadcrumbs">
    <ul>
      <li><a href="index.html">RERI Architecture</a></li>
      <li><a href="reri_header.html">RISC-V RERI Architecture Specification</a></li>
    </ul>
  </nav>
</div><h1 id="page-title" class="page">RISC-V RERI Architecture Specification</h1>
<div id="toc" class="toc">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#copyright-and-license-information">Copyright and license information</a></li>
<li><a href="#contributors">Contributors</a></li>
<li><a href="#intro">1. Introduction</a>
<ul class="sectlevel2">
<li><a href="#faults-and-errors">1.1. Faults and Errors</a></li>
<li><a href="#fault-prevention">1.2. Fault Prevention</a></li>
<li><a href="#error-detection-and-correction">1.3. Error Detection and Correction</a></li>
<li><a href="#error-prediction">1.4. Error Prediction</a></li>
<li><a href="#reri-features">1.5. RERI Features</a></li>
<li><a href="#glossary">1.6. Glossary</a></li>
</ul>
</li>
<li><a href="#error-reporting">2. Error Reporting</a>
<ul class="sectlevel2">
<li><a href="#register-layout">2.1. Register Layout</a></li>
<li><a href="#reset-behavior">2.2. Reset Behavior</a></li>
<li><a href="#error-bank-header-registers">2.3. Error Bank Header Registers</a>
<ul class="sectlevel3">
<li><a href="#vendor-and-implementation-id-vendor_n_imp_id">2.3.1. Vendor and Implementation ID (<code>vendor_n_imp_id</code>)</a></li>
<li><a href="#error-bank-information-bank_info">2.3.2. Error Bank Information (<code>bank_info</code>)</a></li>
<li><a href="#summary-of-valid-error-records-valid_summary">2.3.3. Summary of Valid Error Records (<code>valid_summary</code>)</a></li>
</ul>
</li>
<li><a href="#error-record-registers">2.4. Error Record Registers</a>
<ul class="sectlevel3">
<li><a href="#control-register-control_i">2.4.1. Control Register (<code>control_i</code>)</a></li>
<li><a href="#status-register-status_i">2.4.2. Status Register (<code>status_i</code>)</a></li>
<li><a href="#address-or-information-register-addr_info_i">2.4.3. Address-or-Information Register (<code>addr_info_i</code>)</a></li>
<li><a href="#information-register-info_i">2.4.4. Information Register (<code>info_i</code>)</a></li>
<li><a href="#supplemental-information-register-suppl_info_i">2.4.5. Supplemental Information Register (<code>suppl_info_i</code>)</a></li>
<li><a href="#timestamp-register-timestamp_i">2.4.6. Timestamp Register (<code>timestamp_i</code>)</a></li>
</ul>
</li>
<li><a href="#OVERWRITE_RULES">2.5. Error Record Overwrite Rules</a></li>
<li><a href="#error-reporting-defined-by-other-standards">2.6. Error Reporting Defined by Other Standards</a></li>
<li><a href="#error-code-encodings">2.7. Error Code Encodings</a></li>
</ul>
</li>
</ul>
</div>
<div id="preamble">
<div class="sectionbody">
<div class="admonitionblock warning">
<table>
<tr>
<td class="icon">
<i class="fa icon-warning" title="Warning"></i>
</td>
<td class="content">
<div class="title">This document is in the <a href="http://riscv.org/spec-state">Ratified state</a></div>
<div class="paragraph">
<p>No changes are allowed. Any desired or needed changes can be the subject of a
follow-on new extension. Ratified extensions are never revised.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="copyright-and-license-information"><a class="anchor" href="#copyright-and-license-information"></a>Copyright and license information</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This specification is licensed under the Creative Commons
Attribution 4.0 International License (CC-BY 4.0). The full
license text is available at
<a href="https://creativecommons.org/licenses/by/4.0/" class="bare">creativecommons.org/licenses/by/4.0/</a>.</p>
</div>
<div class="paragraph">
<p>Copyright 2022 - 2024 by RISC-V International.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributors"><a class="anchor" href="#contributors"></a>Contributors</h2>
<div class="sectionbody">
<div class="paragraph">
<p>This RISC-V specification has been contributed to directly or indirectly by (in alphabetical order):</p>
</div>
<div class="paragraph">
<p>Aaron Durbin, Allen Baum, Andrew Walter, Anup Patel, Cameron McNairy, Dimitris Gizopoulos, Daniele Rossi, David Kruckemeyer, Dhaval Sharma, Greg Favor, Himanshu Chauhan, Holger Blasum, Mark Hill, Nicasio Canino, Paul Donahue, Petar Radojkovic, Shubu Mukherjee, Vedvyas Shanbhogue, Xiaohan Ma</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="intro"><a class="anchor" href="#intro"></a>1. Introduction</h2>
<div class="sectionbody">
<div class="paragraph">
<p>The RAS Error Record Register Interface (RERI) specification augments
Reliability, Availability, and Serviceability (RAS) features in the SoC with a
standard mechanism for reporting errors by means of a memory-mapped register
interface to enable error reporting, provide the facility to log the detected
errors (including their severity, nature, and location), and configuring means
to signal the error to a RAS handler component. The RAS handler may use this
information to determine suitable recovery actions that may include terminating
the computation (e.g., terminating a process), restarting parts or all of
the system, etc. to recover from the errors. Additionally, this specification
shall support software-initiated error logging, reporting, and testing of RAS
handlers. Lastly, this specification shall provide maximal flexibility to
implement error handling and coexists with RAS frameworks defined by other
standards such as PCIe cite:[PCI] and CXL cite:[CXL].</p>
</div>
<div class="paragraph">
<p>A system is an entity that interacts with other entities such as other systems,
software, operators, etc. to deliver one or more services in its role as a
service provider. A system may itself be a consumer of one or more services
provided by one or more other systems. A system thus is a collection of
interacting components that implement one or more functions to provide a
service.</p>
</div>
<div class="paragraph">
<p>A service is the behavior as perceived by the consumers of the service. A system
may implement the service as one or more functions in the system. The functions
used to compose the service may be implemented by one or more components in the
system.</p>
</div>
<div class="paragraph">
<p>A service is described as a set of states that can be observed by the consumer
of the service. The set of states observed by the consumer of the service may be
further dependent on a set of internal states of the functions that implement
the service.</p>
</div>
<div class="paragraph">
<p>A service is said to be correct if the set of states observed by the consumer of
the service match the specification of that service. The specifications of a
service may include its functional behavior, performance goals,
security objectives, and RAS requirements.</p>
</div>
<div class="paragraph">
<p>Reliability of a system as a function of time is the probability it continues to
provide correct service and may be characterized by metrics such as mean time
between failures (MTBF). The services provided by a reliable system fail on
faults instead of silently producing incorrect results. Reliable systems
incorporate methods to detect occurrence of errors and to signal the errors to
the consumers of the service.</p>
</div>
<div class="paragraph">
<p>Availability of a system as a function of time is the probability that the
system provides the expected service and is a measure of tolerance to errors.
Systems may increase their availability by minimizing the impact of the errors in
one part of the system to the rest of the system. This may be achieved by means
such as error correction, redundancy, state checkpoints and rollbacks, error
prediction, and error containment.</p>
</div>
<div class="paragraph">
<p>Serviceability is a measure of time to restore the service to correct operation
with minimal disruption to the consumers of the service. These may be achieved
by means such as identifying and reporting failures and supporting mechanisms to
repair and bring the system back online.</p>
</div>
<div class="sect2">
<h3 id="faults-and-errors"><a class="anchor" href="#faults-and-errors"></a>1.1. Faults and Errors</h3>
<div class="paragraph">
<p>A fault is an incorrect state resulting from failures of components or due to
interference from the environment in which the system operates. A fault is
permanent if it reflects an irreversible change to the observable system state
and is transient otherwise. A permanent fault may occur due to a physical
defect or due to a flaw in the design of the functions implementing the service
itself. A transient fault may occur due to temporary environmental conditions
(cosmic rays, voltage glitches, etc.) or due to instability (e.g. marginal
hardware).</p>
</div>
<div class="paragraph">
<p>Some faults that occur in a component may be dormant and only affect the
internal state of the component. Such dormant faults however may turn into
active faults when that internal state is used by the computation process in
that component and produce an error. An error is detected when its presence is
indicated by an error message or signal.</p>
</div>
<div class="paragraph">
<p>Software faults may similarly cause errors that cause the service provided by
the system to deviate from its specification. Well known software engineering
and reliability techniques may be employed to prevent, detect and recover from
software errors. Software errors are not in the scope of this specification.
Software should not have the ability to induce hardware errors.</p>
</div>
<div class="paragraph">
<p>A service failure occurs when the service deviates from its specification due
to errors.</p>
</div>
<div class="paragraph">
<p>A reliable system deals with errors through one or more of the following
techniques cite:[RAS_TAX] cite:[EXA_RAS]:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Fault prevention</p>
</li>
<li>
<p>Error detection and correction</p>
</li>
<li>
<p>Error prediction</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="fault-prevention"><a class="anchor" href="#fault-prevention"></a>1.2. Fault Prevention</h3>
<div class="paragraph">
<p>Fault prevention involves use of techniques that reduce or prevent errors that
may occur after the product has been shipped. These may be accomplished through
the use of high quality in product design, technology selection, materials
selection, and manufacturing time screening for defects. Through the use of
systematic design, technology selection, and manufacturing tests many errors
such as those induced by electric fields, temperature stress, switching/coupling
noise (e.g. DRAM RowHammer cite:[RHAM] effect), incorrect V/F operating points,
insufficient guard bands, meta-stability, etc. can be prevented.</p>
</div>
<div class="paragraph">
<p>Faults that are not prevented may manifest as errors during operation of the
system. Errors that are not detected may still lead to a service failure. For
example, an undetected error in an adder used to produce the address of a load
may produce a bad address which causes the load to incur an exception and lead
to a service failure. Some undetected errors however may not manifest as
exceptions and cause a service failure due to silent data corruption. For
example, a circuit performing encryption of a database may silently cause an
error in the ciphertext produced leading to the entire database being left in a
state where it cannot be decrypted. Such undetected errors that do not lead to a
service failure are called Silent Data Errors (SDE). The impact of SDE is
generally much higher than errors that lead to a service failure. A resilient
system attempts to minimize the probability of SDE to the largest extent
possible by implementing error detection capabilities.</p>
</div>
</div>
<div class="sect2">
<h3 id="error-detection-and-correction"><a class="anchor" href="#error-detection-and-correction"></a>1.3. Error Detection and Correction</h3>
<div class="paragraph">
<p>Error detection involves the use of coding and protocols to detect errors
cite:[EU_HPC] cite:[EXA_2014]. For example, caches with error correcting codes,
TLB entries with parity protection, buses with parity protection on transaction
fields, circuitry to detect unexpected and/or illegal encodings, gray codes,
voltage sensors, clock/PLL monitors, timing margin sensors, etc. Some components
such as memory controllers may actively attempt to detect errors using techniques
such as periodic background scrubbing or on-demand scrubbing.</p>
</div>
<div class="paragraph">
<p>Error correction involves the use of techniques to correct the detected errors.
Error correction may be performed by employing error correcting codes and
protocols.  For example, a processor cache may employ error correcting codes
(ECC) to detect and correct errors. Some components may recover from errors by
using protocols that involve a retry. For example, a TLB that detects an error
may invalidate the entry and attempt to refill it from the page tables, a
receiver on a bus that detects an error may request the transmitter to
retransmit the transaction, etc. Error correction is thus complete when the
error is either corrected or it does not recur on retry. Such errors that were
corrected by the hardware are called <strong>Corrected Errors (CE)</strong>.</p>
</div>
<div class="paragraph">
<p>Errors that could not be corrected are called uncorrected errors. A component
that detects an uncorrected error may allow possibly corrupted data to
propagate to the requester of the data but associate an indicator (e.g., poison)
with the data. Such errors are said to be <strong>Uncorrected Errors Deferred (UED)</strong> as
they allow the component to continue operation and defer dealing with the error
to a later point in time if the data corrupted by the error is consumed. Deferring
errors allows deferring the error handling to an ultimate consumer of the
corrupted data that may be able to provide more precise information to a RAS
handler about the contexts affected by the corruption and thus enable more
precise error recovery actions by the RAS handler. The component that detected
and deferred the error may notify a RAS handler by reporting the UED
but such a UED does not need an immediate remedial action to be performed by the
RAS handler.  For example, a memory controller may detect an uncorrectable ECC
error on data in memory but since there is no immediate consumer of the data the
memory controller may just mark the data as poisoned and defer the error
handling to a component that requests the data. If the poisoned data is never
consumed then deferred errors are benign. If the poisoned data is completely
overwritten with new data then the associated poison is cleared. If the poisoned
data is only partially written then the data continues to be marked as poisoned.</p>
</div>
<div class="paragraph">
<p>A component that detects an uncorrected error may be unable to defer the
handling of the error by techniques such as poisoning. Such errors are said to
be <strong>Uncorrected Errors Critical (UEC)</strong> and a RAS handler is invoked as
immediate remedial actions are required. For example, a cache controller
may detect an uncorrectable ECC error on the memory used to hold cache tags
and since such errors cannot be attributed to any particular data element
these errors may be classified as UEC. If poisoned data is attempted to be
consumed by a component (e.g. a hart, an IOMMU, a device, etc.) then an UEC
occurs as immediate remedial actions are required and further deferral of the
error is not possible.</p>
</div>
<div class="paragraph">
<p>A component that signals a request for execution of an RAS handler
for an UEC may indicate that the error has not propagated beyond the boundaries
of the component that detected the error and thus may be <strong>containable</strong> through
recovery actions (e.g., terminating the computation, etc.) carried out by the
RAS handler.</p>
</div>
<div class="paragraph">
<p>Some components act as an intermediary through which the data passes through.
For example, a PCIe/CXL port is an intermediary component that by itself does
not consume the data it receives from memory but forwards the data to the
endpoint. In such cases the component may receive the data with a deferred
error. Such a component may propagate the error and not log an error by itself.
However, if the component to which the data is being propagated (e.g. a PCIe
endpoint) is not capable of handling poison then the former component  must
signal a UEC instead of propagating the corrupted data, as the act of
propagation breaks containment of the error.</p>
</div>
<div class="paragraph">
<p>An error detected by a component may lead to a failure mode where the component
may not be able to service requests anymore (e.g. colloquially called jammed,
wedged, etc.). For example, an error in the hart pipeline may cause the hart to
stop committing instructions, a fabric may be in a state where it cannot process
any further requests, the link connecting the memory module to the host may have
failed, etc. In such cases invoking a RAS handler may not be useful
as the RAS handler itself may need to generate requests to the failed component
to perform the recovery actions. Components in such failed states may use an
implementation-defined signal to a system recovery controller (e.g., a Baseboard
Management Controller (BMC), an on-chip service controller, etc.) to initiate a
RAS-handling reset to restart the component, sub-system, or the system itself to
restore correct service operations.</p>
</div>
</div>
<div class="sect2">
<h3 id="error-prediction"><a class="anchor" href="#error-prediction"></a>1.4. Error Prediction</h3>
<div class="paragraph">
<p>Error prediction involves the use of corrected errors as a predictor of future
uncorrectable permanent failures or other systemic issues, such as marginality
due to aging. Monitoring corrected errors may facilitate the avoidance of future
service failures.</p>
</div>
<div class="paragraph">
<p>Studies indicate that the probability of an uncorrected DRAM error is elevated
if the DIMM previously experienced corrected errors cite:[DRAM_WILD]
cite:[SRI_2012] cite:[ZIV_2019]. Such reasoning is used by system protection
mechanisms, which utilize simple heuristics for offlining potentially failing
memory pages cite:[HWA_2012] cite:[MEZ_2015] cite:[TANG_2006] cite:[DU_2021] or
for replacing compromised DIMMs cite:[MAR_2014] cite:[DRAM_WILD] cite:[DU_2020].</p>
</div>
<div class="paragraph">
<p>Reporting of detected and corrected hardware errors is requisite for any
quantitative analysis of system resilience and for the prediction of future
uncorrected errors cite:[EU_HPC]. This prediction capability facilitates the
deployment of preventive mechanisms, such as pre-failure alerts in
High-Performance Computing (HPC) cluster management software, thus mitigating
the costs associated with unscheduled outages and system repairs.</p>
</div>
<div class="paragraph">
<p>Components of a resilient system may also include corrected error counters to
count the corrections performed. Such components may additionally include a
fixed or programmable threshold to notify a RAS handler when the number of
corrected errors surpasses the threshold.</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="reri-features"><a class="anchor" href="#reri-features"></a>1.5. RERI Features</h3>
<div class="paragraph">
<p>Version 1.0 of the RISC-V RERI specification supports the following features:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>Error severity classes and standard error codes.</p>
</li>
<li>
<p>Standard register format and addressing for memory-mapped error-record
registers and error-record banks.</p>
</li>
<li>
<p>Rules for prioritized overwriting of valid error records with new error
records.</p>
</li>
<li>
<p>Corrected error counting.</p>
</li>
<li>
<p>Error record injection for RAS handler testing.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>This specification is intended to accommodate a wide variety of systems
designs and needs - from high-end server-class systems to low-end embedded
systems. This is accomplished through providing implementation flexibility
and options - both within the registers of an error record and the number
of error records in an error bank, and with respect to the association
between hardware components and error errors/banks.</p>
</div>
</div>
<div class="sect2">
<h3 id="glossary"><a class="anchor" href="#glossary"></a>1.6. Glossary</h3>
<table class="tableblock frame-all grid-all" style="width: 90%;">
<caption class="title">Table 1. Terms and definitions</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Term</th>
<th class="tableblock halign-center valign-top">Definition</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">AER</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Advanced Error Reporting. A PCIe capability to support
                     advanced error control and reporting.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">BMC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Baseboard Management Controller.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Corrected Error.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A register or data structure field designated for custom
                     use. Software that is not aware of the custom use must
                     ignore custom fields and preserve value held in these
                     fields when writing values to other fields in the same
                     register.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CXL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Compute Express Link bus standard.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Data</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">In this specification data refers broadly to all forms of
                     information being stored or transferred in a computing
                     system. In the case of a CPU, for example, this encompasses
                     information that may be treated as instructions that are
                     fetched and executed, as well as data that is loaded and
                     stored.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DIMM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dual-In-line Memory Module. A packaging arrangement of
                     memory devices on a socketable substrate.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">DRAM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Dynamic random-access memory. Devices made using Dynamic
                     RAM circuit configurations that have data storage that must
                     be refreshed periodically.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ECC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Correcting Code.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error Reporting</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error reporting is the process of logging information
                     (including their severity, nature, and location) about
                     a detected error in an error record and signaling, if
                     required, the occurrence of the error to an appropriate
                     RAS handler.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">FSM</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Finite-State Machine. An abstract machine that can be in
                     exactly one of a finite number of states at any time.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">GPA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Guest Physical Address. See Priv. specification.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">HPC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">High-performance Computing. High-Performance Computing
                     (HPC) refers to the use of parallel processing techniques
                     to solve complex computational problems. It enables faster
                     data processing and simulation by leveraging multiple
                     processors or servers.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">ID</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Identifier.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">IOMMU</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Input-Output Memory Management Unit. A system-level
                     Memory Management Unit (MMU) that connects
                     direct-memory-access capable Input/Output (I/O) devices to
                     system memory.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">NMI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Non-Maskable interrupt. See Priv. specification.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">OS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Operating System.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PLL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Phase-Locked Loop. A control system that generates an
                     output signal whose phase is related to the phase of an
                     input signal. PLLs are commonly used to perform clock
                     synthesis.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">PCIe</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Peripheral Component Interconnect Express bus standard.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RAS</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reliability, Availability, and Serviceability.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RERI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">RAS error record register interface.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reserved</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">A register or data structure field reserved for future use.
                     Reserved fields in data structures must be set to 0 by
                     software. Software must ignore reserved fields in registers
                     and preserve the value held in these fields when writing
                     values to other fields in the same register.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RO</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read-Only - Register bits are read-only and cannot be altered
                     by software. Where explicitly defined, these bits are used
                     to reflect changing hardware state, and as a result bit
                     values can be observed to change at run time.<br>
                     If the optional feature that would Set the bits is not
                     implemented, the bits must be hardwired to Zero</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read-Write - Register bits are read-write and are permitted
                     to be either Set or Cleared by software to the desired
                     state.<br>
                     If the optional feature that is associated with the bits is
                     not implemented, the bits are permitted to be hardwired to
                     Zero.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW1C</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Write-1-to-Clear status - Register bits indicate status when
                     read. A Set bit indicates a status event which is Cleared by
                     writing a 1b. Writing a 0b to RW1C bits has no effect.<br>
                     If the optional feature that would Set the bit is not
                     implemented, the bit must be read-only and hardwired to Zero</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">RW1S</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Read-Write-1-to-Set - register bits indicate status when
                     read. The bit may be Set by writing 1b. Writing a 0b to RW1S
                     bits has no effect.<br>
                     If the optional feature that introduces the bit is not
                     implemented, the bit must be read-only and hardwired to Zero</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SDE</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Silent Data Error.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SOC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System On a Chip, also referred as System-On-a-Chip and
                     System-On-Chip.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">SPA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supervisor Physical Address. See Priv. specification.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">TLB</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Translation Lookaside Buffer.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">VA</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Virtual Address. See Priv. specification.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UED</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uncorrected Error Deferred.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">UEC</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Uncorrected Error Critical.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WARL</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Write Any values, Reads Legal values: Attribute of a
                     register field that is only defined for a subset of bit
                     encodings, but allow any value to be written while
                     guaranteeing to return a legal value whenever read.</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">WPRI</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Writes Preserve values, Reads Ignore values:
                     Attribute of a register field that is reserved for future
                     standard use.</p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="sect1">
<h2 id="error-reporting"><a class="anchor" href="#error-reporting"></a>2. Error Reporting</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Components, such as a RISC-V hart or a memory controller, in a system that
support error detection may implement one or more banks of error records. Each
error bank may implement one or more error records. Each error record
corresponds to one or more hardware units of the component and reports errors
detected by those hardware units. A hardware unit may implement multiple error
records. One or more error records may be valid at any given time due to
one or more hardware units in the component detecting an error or due to a
hardware unit having detected one or more errors.</p>
</div>
<div class="paragraph">
<p>Each error bank is memory-mapped starting at an 8-byte aligned physical address
and may include up to 63 error records. Each error record is a set of registers
used to control that error record and to report status, address, and other
information relevant to the error recorded in that error record.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Implementations may use a coarser alignment for the start address of
an error bank. For example, some implementations may locate the error bank
within a naturally aligned 4-KiB region (a page) of physical address space for
each error bank, i.e., one page per bank. Coarser alignments may enable register
decoding to be implemented without a hardware adder circuit.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The behavior for register accesses where the address is not aligned to
the size of the access, or if the access spans multiple registers, or if the
size of the access is not 4 bytes or 8 bytes, is <code>UNSPECIFIED</code>. An aligned
4-byte access to a RERI register must be single-copy atomic. Whether an 8-byte
access to an RERI register is single-copy atomic is <code>UNSPECIFIED</code>, and such an
access may appear, internally to the RERI implementation, as if two separate
4-byte accesses were performed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The RERI registers are defined in such a way that software can perform two
individual 4 byte accesses, or hardware can perform two independent 4 byte
transactions resulting from an 8 byte access, to the high and low halves of the
register as long as the register&#8217;s semantics, with regards to side-effects, are
respected between the two software accesses, or two hardware transactions,
respectively.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The RERI registers have little-endian byte order (even for systems where
all harts are big-endian-only).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Big-endian-configured harts using RERI may implement the <code>REV8</code> byte-reversal
instruction defined by the Zbb extension. If <code>REV8</code> is not implemented, then
endianness conversion may be implemented using a sequence of instructions.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>An implementation-specific response occurs if the error bank and/or record is
unavailable (e.g., powered down) to memory-mapped accesses. For example, an
error bank and/or record may respond with all zero data on reads and may
ignore writes. Other implementations may, for example, signal an error response
on the attempted transaction.</p>
</div>
<div class="paragraph">
<p>An error bank that is otherwise available for memory-mapped accesses must respond
with all zero data on reads and must ignore writes to unimplemented registers in
the page.</p>
</div>
<div class="sect2">
<h3 id="register-layout"><a class="anchor" href="#register-layout"></a>2.1. Register Layout</h3>
<div class="paragraph">
<p>The error bank registers are organized as a 64-byte header providing information
about the error bank followed by an array of 64-byte error records. The offset
of the error record numbered <code>i</code> in the bank is (64 + <code>i</code> * 64) where <code>i</code> may
range from 0 to 62.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Error bank Memory-mapped register layout</caption>
<colgroup>
<col style="width: 18.75%;">
<col style="width: 18.75%;">
<col style="width: 6.25%;">
<col style="width: 56.25%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">Offset</th>
<th class="tableblock halign-left valign-top">Name</th>
<th class="tableblock halign-center valign-top">Size</th>
<th class="tableblock halign-left valign-top">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>vendor_n_imp_id</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Vendor and implementation ID.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>bank_info</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Error bank information.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>valid_summary</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Summary of valid error records.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reserved</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">32</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reserved for future standard use.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">56</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Custom</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Designated for custom use.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">64 + 64 * i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>control_i</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Control register of error record i.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">72 + 64 * i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>status_i</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Status register of error record i.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">80 + 64 * i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>addr_info_i</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Address-or-info. register of error record i.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">88 + 64 * i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>info_i</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Information register of error record i.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">96 + 64 * i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>suppl_info_i</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supplemental information register of
                                        error record i.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">104 + 64 * i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>timestamp_i</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Timestamp register of error record i.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">112 + 64 * i</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reserved</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reserved for future standard use.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>All registers and register fields defined by this specification are WARL unless
noted otherwise. While all registers and register fields of an error bank and
the error records in an error bank must exist, is legal to implement a register
and/or register field of as read-only zero or a read-only legal value if they
are not required to report errors information in an implementation.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The number of error banks, the number of error records in an error bank and the
amount of information reported in an error record may be implemented to meet the
needs of the implementation. The error records are only required to implement the
registers and register fields needed to report error information that is legally
produced by the implementation.</p>
</div>
<div class="paragraph">
<p>A minimal implementation with one error bank, which contains one error record
only consumes 128 bytes of address space. In terms of storage, the minimal
implementation requires only two bits of storage, for the <code>v</code> (valid) bit and
the <code>rdip</code> (read-in-progress) bit, in the <code>status_i</code> register in the single error
record. All other register fields of the bank header and error record are WARL and
may be hardwired to read-only zero or read-only one as appropriate.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="reset-behavior"><a class="anchor" href="#reset-behavior"></a>2.2. Reset Behavior</h3>
<div class="paragraph">
<p>The reset value is <code>UNSPECIFIED</code> for RERI registers.</p>
</div>
<div class="paragraph">
<p>The registers of an error bank may preserve their value across certain types of
reset. For example, a warm reset or a RAS initiated reset may preserve the
register values whereas a cold reset may reset the values back to their initial
state.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Under normal circumstances, when an error is signaled, the RAS handler retrieves
the logged errors to process the error condition. In some cases, the RAS handler
may not be able to do such processing. For example, the system may be unable to
support execution of the RAS handler and cause a RAS initiated reset. Preserving
the information logged in error records across such resets allows reporting of
unhandled errors that occurred in a previous boot of the system.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>All registers in an error bank must have the same reset behavior.</p>
</div>
</div>
<div class="sect2">
<h3 id="error-bank-header-registers"><a class="anchor" href="#error-bank-header-registers"></a>2.3. Error Bank Header Registers</h3>
<div class="sect3">
<h4 id="vendor-and-implementation-id-vendor_n_imp_id"><a class="anchor" href="#vendor-and-implementation-id-vendor_n_imp_id"></a>2.3.1. Vendor and Implementation ID (<code>vendor_n_imp_id</code>)</h4>
<div class="paragraph">
<p>The <code>vendor_n_imp_id</code> register is a read-only register and its layout is:</p>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt1KI5lJQqE7KLCm2UjA20lHIS8xNtVJQL0vNS8kvis9MUa_VwaogM7cAKhuro5Ccn5eWmW5VnZOYlwpUZqijkFFckJicamVoYGRSWwsAslcgug==" alt="Vendor and implementation ID">
</div>
<div class="title">Figure 1. Vendor and implementation ID</div>
</div>
<div class="paragraph">
<p>The <code>vendor_id</code> field follows the encoding as defined by <code>mvendorid</code> CSR and
provides the JEDEC manufacturer ID of the provider of the component hosting the
error bank. A value of 0 may be returned to indicate the field is not
implemented or that this is a non-commercial implementation.</p>
</div>
<div class="paragraph">
<p>The <code>imp_id</code> provides a unique identity, defined by the vendor, to identify the
component and revisions of the component implementation hosting the error bank.
A value of 0 may be returned to indicate that the field is not implemented. The
value returned should reflect the design of the component itself and not of the
surrounding system.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>vendor_id</code> and the <code>imp_id</code> are expected to be used as a identifier to
determine the format of fields and encodings that are <code>UNSPECIFIED</code> by this
specification.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="error-bank-information-bank_info"><a class="anchor" href="#error-bank-information-bank_info"></a>2.3.2. Error Bank Information (<code>bank_info</code>)</h4>
<div class="paragraph">
<p>The <code>bank_info</code> is a read-only register and its layout is as follows:</p>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt1KI5lJQqE7KLCm2UjA001HIS8xNtVJQz8wrLonPTFGv1UFIKyCk8-JTi4rii1KTi1FVGMFV5CRW5peWoMgaI2TDA4I8UXVawOXKUouKM_PzQNKxOgrJ-XlpmelW1TmJealAdUAjMooLEpNTrQwNjExqawHJVTuw" alt="Error bank information">
</div>
<div class="title">Figure 2. Error bank information</div>
</div>
<div class="paragraph">
<p>The <code>version</code> field returns the version of the architectural register layout
specification implemented by the error bank. The version defined by this
specification is 0x01. The encodings 0xF0 through 0xFF of this field are
designated for custom use.</p>
</div>
<div class="paragraph">
<p>The <code>layout</code> field along with the <code>version</code> field indicates the layout of the
registers in the error bank and the error records. The <code>layout</code> encoding 0
indicates the registers are arranged and have meaning as defined by this
specification.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The offset of the <code>version</code> and the <code>layout</code> fields in the error bank shall not
change across versions of the specification or the layouts defined by a version.
Software should first read the <code>version</code> and <code>layout</code> fields and use the values
to determine the register layout.</p>
</div>
<div class="paragraph">
<p>The <code>layout</code> field may be used for future standard extensions to define segment
specific extensions to the error bank and/or the error records.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>inst_id</code> field identifies a unique instance of an error bank, within a
package or at least a silicon die, of the component; ideally unique in the whole
system. The <code>inst_id</code> is defined by the vendor of the system as a unique
identifier for the component. A value of 0 may be returned to indicate the field
is not implemented.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The <code>inst_id</code> is expected to be collected and logged as part of the RAS error
logs. These may allow the vendor of the silicon to make inferences about the
instances of the components that may be vulnerable. As these values differ
between vendors of the system and even among systems provided by the same
vendor, these are not expected to be useful to the majority of software besides
software intimately familiar with that system implementation.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>n_err_recs</code> field indicates the number of error records implemented by the
error bank. The field is allowed to have an unsigned value between 1 and 63. The
error records of an error bank are located in the memory mapped region reserved
for the error bank such that the first error record is at offset 64 and the last
error record at offset (64 + 63 * <code>n_err_recs</code>).</p>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="summary-of-valid-error-records-valid_summary"><a class="anchor" href="#summary-of-valid-error-records-valid_summary"></a>2.3.3. Summary of Valid Error Records (<code>valid_summary</code>)</h4>
<div class="paragraph">
<p>The <code>valid_summary</code> is a read-only register and its layout is as follows:</p>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt1KI5lJQqE7KLCm2UjDUUVDIS8xNtVJQLy5Tr9VByJgZ68BkyhJzMlPigcK5iQUgNbE6Csn5eWmZ6VbVOYl5qUDFJjoKGcUFicmpVoYGRia1tQB1OiBW" alt="Summary of valid error records">
</div>
<div class="title">Figure 3. Summary of valid error records</div>
</div>
<div class="paragraph">
<p>The <code>sv</code> bit when 1 indicates that the <code>valid_bitmap</code> provides a summary of the
<code>valid</code> bits from the status registers of this error bank. If this bit is 0
then the error bank does not provide a summary of valid bits and the
<code>valid_bitmap</code> is 0.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>If <code>SV</code> is 1, then software may use the <code>valid_bitmap</code> to determine which error
records in the bank are valid. If this bit is 0 then software must read the
<code>status_register_i</code> of each implemented error record in this bank to determine
if there is a valid error logged in that error record.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
</div>
<div class="sect2">
<h3 id="error-record-registers"><a class="anchor" href="#error-record-registers"></a>2.4. Error Record Registers</h3>
<div class="sect3">
<h4 id="control-register-control_i"><a class="anchor" href="#control-register-control_i"></a>2.4.1. Control Register (<code>control_i</code>)</h4>
<div class="paragraph">
<p>The <code>control_i</code> is a read/write WARL register used to control error reporting by
the corresponding error record in the error bank. The layout of this register
is as follows:</p>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNqrLkpNt1KI5lJQqE7KLCm2UjDUUVDIS8xNtVJQT80pTlWv1cEql5yajCpnhCxXjEuqNDUFj1wympyJDkwuPCDIE9UpZnC51MwUXK4szswrwylXlFKAKmeA2zoTJN-VFpfk54JkY3UUkvPz0jLTrapzEvNSIcoyigsSk1OtDA2MTGprAdhTZak=" alt="Control register">
</div>
<div class="title">Figure 4. Control register</div>
</div>
<div class="paragraph">
<p>Error reporting functionality in the error record is enabled if the
error-logging-and-signaling-enable (<code>else</code>) field is set to 1. The <code>else</code> field
is WARL and may default to 1 or 0 at reset. When <code>else</code> is 1, the hardware unit
logs and signals errors in the error record. When <code>else</code> is 0, any signaling
associated with prior logged errors remains unaffected, the hardware unit does
not log and signal new errors in the error record, and it is <code>UNSPECIFIED</code>
whether the hardware unit continues detecting and correcting errors.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When error reporting is disabled, the hardware unit may continue to
silently correct detected errors and when correction is not possible provide
corrupt data to the consumers of the data. Alternatively an implementation may
disable error detection altogether when error reporting is disabled. It
is recommended that implementations continue performing error correction even
when error reporting is disabled.</p>
</div>
<div class="paragraph">
<p>It is recommended that a hardware component continue to produce error detection
and correction codes on data generated by or stored in the hardware component
even when error reporting is disabled. It is recommended hardware components
continue to use containment techniques like data poisoning even when error
reporting is disabled.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The <code>ces</code>, <code>ueds</code>, and <code>uecs</code> are WARL fields used to enable signaling of CE,
UED, and UEC respectively when they are logged (i.e. when <code>else</code> is 1). Enables
for unsupported classes of errors may be hardwired to 0. The encodings of these
fields are specified in <a href="#ERR_SIG_ENABLES">Table 3</a>.</p>
</div>
<table id="ERR_SIG_ENABLES" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 3. Error signaling enable field encodings</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>Encoding</strong></th>
<th class="tableblock halign-left valign-top"><strong>Error signal</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Signaling is disabled.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Signal using a Low-priority RAS signal.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Signal using a High-priority RAS signal.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Signal using a platform specific RAS signal.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>The RAS signals are usually used to notify a RAS handler. The physical
manifestation of the signal is <code>UNSPECIFIED</code> by this specification. The
information carried by the signal is <code>UNSPECIFIED</code> by this specification.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The error signaling enables typically default to 0 - disabled - at reset to allow
a RAS handler an opportunity to initialize itself for handling RAS signals and to
initialize the hardware units that generate the RAS signals before error
reporting is enabled.</p>
</div>
<div class="paragraph">
<p>The signal generated by the error record may in addition to causing an
interrupt/event notification be also used to carry additional information to aid
the RAS handler in the platform.</p>
</div>
<div class="paragraph">
<p>The RAS handler may be implemented by a RISC-V application processor hart
in the system, a dedicated RAS handling micro-controller, a Finite-State Machine
(FSM), etc.</p>
</div>
<div class="paragraph">
<p>The error signals may be configured, through platform specific means, to notify
a RAS handler in the platform. For example, the High-priority RAS signal
may be configured to cause a High-priority RAS local interrupt, an external
interrupt, or an Non-Maskable Interrupt (NMI) and the Low-priority RAS signal
may be configured to cause a Low-priority RAS local interrupt or an external
interrupt.</p>
</div>
<div class="paragraph">
<p>When error class and/or priority-specific RAS handlers are implemented,
these handlers must take into consideration the possibility that an error
record intended for a handler could be overwritten by an error of higher
severity or priority — which also triggers a signal to another RAS handler
for the new error — in the period between the first signal&#8217;s generation and
its examination of the error record by the first RAS handler. In such
instances, the first RAS handler may find an error record that is not
intended for it. This handler may choose to disregard this error record as
spurious from its perspective, and leave it to be handled by the other RAS
handler.  It may also note that an error occurred that concerns it, but
information for the error is no longer available. Similarly, spurious
signals may arise if the fields controlling the type of signal generated by
an error record are modified while either the <code>v</code> field or the <code>ceco</code> field
in the <code>status_i</code> register is set to 1.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>If the error record supports corrected-error counting then the
corrected-error-counting-enable (<code>cece</code>) field, when set to 1, enables counting
corrected errors in the corrected-error-counter (<code>cec</code>) field of the status
register <code>status_i</code> of the error record. The <code>cec</code> is a counter that holds an
unsigned integer count. When <code>cece</code> is 0, the <code>cec</code> does not count and retains
its value. If corrected error counting is not supported in the error record then
<code>cece</code> and <code>cec</code> may be hardwired to 0. An overflow of <code>cec</code> is signaled using
the signal configured in the <code>ces</code> field. When <code>cece</code> is 1, the logging of a CE
in the error record does not cause an error signal and an error signal
configured in <code>ces</code> occurs only on a <code>cec</code> overflow that sets the <code>ceco</code> bit.</p>
</div>
<div class="paragraph">
<p>The set-read-in-progress (<code>srdp</code>) field, when written with a value of 1, causes
the <code>rdip</code> (read-in-progress) bit of the associated <code>status_i</code> register to be
set. The <code>srdp</code> field always returns 0 on read. The <code>rdip</code> field in the
<code>status_i</code> register is set to 1 by hardware when an error is recorded in an
invalid error record causing the <code>v</code> field to change from 0 to 1. The <code>rdip</code>
field is cleared to 0 by hardware when a new error updates any field of a valid
(<code>v=1</code>) error record.</p>
</div>
<div class="paragraph">
<p>The status-register-invalidate (<code>sinv</code>) bit, when written with a value of 1,
causes the <code>v</code> (valid) field of the associated <code>status_i</code> register to be
cleared if the <code>rdip</code> field in the <code>status_i</code> register is also 1. The <code>sinv</code>
field always returns 0 on read. The <code>sinv</code> field enables software to read out
and invalidate an error record without needing to explicitly write the
<code>status_i</code> register. Qualifying the clearing of the <code>v</code> field with <code>rdip</code> field
being 1 prevents losing information about an overwrite that might have occurred
while reading of the error record is in progress. If the <code>sinv</code> and <code>srdp</code> are
both written to 1 together then the <code>rdip</code> bit is set and the <code>v</code> bit is cleared
to 0.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Software may determine if the error record was read atomically by first reading
the registers of the error record, then clearing the valid in <code>status_i</code> by
writing 1 to <code>control_i.sinv</code> and then reading the <code>status_i</code> register again to
determine if the <code>v</code> field was cleared to 0. If the <code>v</code> field is still 1 but
the <code>rdip</code> field is 0 then it is indicative of an overwrite that may have
occurred during the process of reading the error record. If the <code>v</code> field is 1
and the <code>rdip</code> is also 1 then it indicates a new error was recorded after the
<code>v</code> field was cleared; but the read of the error record to collect the previous
error was atomic. If an overwrite occurred during the process of reading the
error record then the process may be repeated, after setting the <code>rdip</code> field,
to read the latest reported error.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The error-injection-delay (<code>eid</code>) is a WARL field used to control error record
injection. When <code>eid</code> is written with a value greater than 0, the <code>eid</code> starts
counting down, at an implementation defined rate, till the value reaches a count
of 0. Writing a value of 0 disables the counter. If error injection is not
supported by the error record then the <code>eid</code> field may be hardwired to 0. When
<code>eid</code> reaches a count of 0, the status register is made valid by setting the
<code>status_i.v</code> bit to 1. The <code>status_i.v</code> transition from 0 to 1 generates a RAS
signal corresponding to the class of error (CE, UED, or UEC) setup in the
<code>status_i</code> register. The counter continues to count even if the <code>status_i</code>
register was overwritten by a hardware detected error before the <code>eid</code> counts
down to 0.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Software may setup the error record registers with desired values of the error
record to be injected and then program <code>eid</code> to cause the <code>status_i</code> register to
be marked valid when <code>eid</code> count reaches 0.</p>
</div>
<div class="paragraph">
<p>The error record injection capability only injects an error record and not an
error into the hardware itself. The error record injection capability is
expected to be used to test the RAS handlers and is not intended to be used for
verification of the hardware implementation itself.</p>
</div>
<div class="paragraph">
<p>Other implementation specific mechanisms may be provided to generate and/or
emulate hardware error conditions. When hardware error injection capabilities
are implemented, the implementation should ensure that these capabilities cannot
be misused to maliciously inject hardware errors that may lead to security
issues.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="status-register-status_i"><a class="anchor" href="#status-register-status_i"></a>2.4.2. Status Register (<code>status_i</code>)</h4>
<div class="paragraph">
<p>The <code>status_i</code> is a read-write WARL register that reports errors detected by
the hardware unit.</p>
</div>
<div class="imageblock kroki">
<div class="content">
<img src="https://kroki.io/wavedrom/svg/eNp90LEOwiAQBuDdp7itC4PUxhjewM24OBgHesV6iaUEaBfCuzt0IBjP-ct_uf9P3owK7juA1FMMCqQAsHoyCpq1yeInoOFkMQNPWFFbyHniUtPMPlHBoUCMXITqRl0RTWwoELtDDCtX6Xa5ntmL6Jee3xbZyv-O-oFcZadiX8vLo-AvFsMt9hCAs33SqNJbW7Pt9gpOo1Fy33Y5fwATjaR7" alt="Status register">
</div>
<div class="title">Figure 5. Status register</div>
</div>
<div class="paragraph">
<p>The error record holds a valid error log if the valid (<code>v</code>) field is 1. The
<code>status_i</code> register does not accept a software write when the <code>v</code> field is 1.</p>
</div>
<div class="paragraph">
<p>If the detected error was corrected then <code>ce</code> is set to 1. If the detected error
could not be corrected but was deferred then <code>ued</code> is set to 1. If the detected
error could not be corrected or deferred and thus needs immediate handling by an
RAS handler, then the <code>uec</code> bit is set to 1. If the error record does not log a
class of errors (e.g., does not support UED), then the corresponding bit may be
hardwired to 0. If the bits corresponding to more than one error class are set
to 1 then the error record holds information about the highest severity error
class among the bits set. The error record may be used to provide an
informational update by setting the <code>v</code> bit to 1 and setting <code>ce</code>, <code>ued</code>, and
<code>uec</code> bits to 0. Such informational updates are lower severity than a CE but are
signaled using the signal configured in <code>control_i.ces</code>.</p>
</div>
<div class="paragraph">
<p>When <code>v</code> is 1, if more errors of the same class as the error currently logged in
the error record occur then the multiple-occurrence (<code>mo</code>) bit is set to indicate
the multiple occurrence of errors of the same severity. See <a href="#OVERWRITE_RULES">Section 2.5</a>
for rules on overwriting the error record in such cases.</p>
</div>
<div class="paragraph">
<p>Each error of an error class (CE, UED, or UEC) that may be logged in an error
record may be associated with a priority which is a number between 0 and 3;
priority value of 3 being the highest priority and priority value of 0 being the
lowest priority. The priority values indicate relative priority among errors of
the same error class and therefore represent sub-classes of errors. Among errors
of different error classes the priority values are unrelated.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Some implementations may report errors from more than one sources into a
single error records. Such implementations may prioritize reporting of error
from one source over the other using the <code>pri</code> associated with the error when
both sources simultaneously detect an error of the same class (e.g., CE). The
priority is also used to determine if a new error may overwrite a previously
reported error of the same error class in the error record.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The priority (<code>pri</code>) field in the error record indicates the priority of the
currently logged error in the error record. The <code>pri</code> is a WARL field and an
implementation may support only a subset of legal values for this field and
an implementation that does not support reporting of a priority per error may
hardwire this field to 0.</p>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>The error record overwrite rules use the error class (CE, UED, or UEC) and the
error priority (<code>pri</code>) as specified in <a href="#OVERWRITE_RULES">Section 2.5</a>.</p>
</div>
<div class="paragraph">
<p>When an UEC occurs the containable (<code>c</code>) bit may be set to 1 to indicate
that the error has not propagated beyond the boundaries of the hardware unit
that detected the error and thus may be <strong>containable</strong> through recovery actions
(e.g., terminating the computation, etc.) carried out by the RAS handler.
The <code>c</code> bit is WARL. For error classes other than UEC, the interpretation of
the <code>c</code> bit may be specified in a future standard extension.</p>
</div>
<div class="paragraph">
<p>For a RISC-V hart, some UEC may cause a Hardware Error exception cite:[PRIV].
A Hardware Error is a synchronous exception, triggered when corrupted or
uncorrectable data is accessed, either explicitly or implicitly, by an
instruction. In this context, "data" encompasses all types of information used
within a RISC-V hart.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>For example, a RISC-V hart by causing the precise hardware error exception on
attempts to consume corrupted/poisoned data may contain the error to the program
currently executing on the hart. Such errors may be reported with the <code>c</code> bit
set to 1 indicating that the interrupted context may be restarted if the RAS
handler is able to perform a suitable recovery operation. The <code><em>x</em>epc</code> CSR on
delivery of the hardware error exception holds the address of the instruction
that attempted to access corrupted data, while the <code><em>x</em>tval</code> CSR is either set
to 0 or holds the virtual address of an instruction fetch, load, or store that
attempted to access corrupted data.</p>
</div>
<div class="paragraph">
<p>While the <code>c</code> bit indicates that the error may be containable the RAS handler
may or may not be able to recover the system from such errors. The RAS handler
must make the recovery determination based on additional information provided in
the error record such as the address of the memory where corruption was detected.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The address-or-info-type (<code>ait</code>) is a WARL field that indicates the type of
information reported in the <code>addr_info_i</code> register. An error record that does
not report information in this field may hardwire this field to 0. The encodings
of the <code>ait</code> field are listed in <a href="#AIT_ENCODINGS">Table 4</a>.</p>
</div>
<table id="AIT_ENCODINGS" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 4. Address-or-information type encodings</caption>
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>Encoding</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None. The contents of the <code>addr_info_i</code> register are
               <code>UNSPECIFIED</code> when <code>ait</code> is 0.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Supervisor Physical Address (SPA).</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Guest Physical Address (GPA).</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Virtual Address (VA).</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">4-15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Component-specific address or information.</p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Component-specific information types, as defined in the range 4-15 of the <code>ait</code>
field, may be used to report component-specific addresses or other
component-specific information in the register. The component-specific addresses
may include information such as a local bus address or a Dynamic Random-Access
Memory (DRAM) address. The interpretation of such information is
component-specific.</p>
</div>
<div class="paragraph">
<p>When a standard address type (a VA, SPA, or GPA) is reported in the
<code>addr_info_i</code> register, additional non-redundant information about the location
accessed using the address (e.g., cache set and way, etc.) may be reported in
the <code>info_i</code> and/or the <code>suppl_info_i</code> registers.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The transaction-type (<code>tt</code>) is a WARL field to report the type of transaction
that detected the error and its encodings are listed in <a href="#TT_ENCODINGS">Table 5</a>. An
error record that does not report transaction types may hardwire this field
to 0.</p>
</div>
<table id="TT_ENCODINGS" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 5. Transaction type encodings</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 75%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>Encoding</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Unspecified or not applicable.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Designated for custom use.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2-3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reserved for future standard use.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explicit read.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Explicit write.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Implicit read.</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Implicit write.</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>For a RISC-V hart, the Unprivileged specification cite:[UPRIV] defines memory
accesses by instructions as either explicit or implicit. An Implicit read or
write is an access that may be implicitly performed by hardware to perform an
explicit operation. For example, a load or store instruction executed by the
hart may perform implicit memory accesses to page table data structures.
Instruction memory accesses by a hart are termed as implicit accesses by the
Unprivileged specification. However, for the purposes of error reporting, only
the implicit accesses to data structures, such as the (guest) page tables that
are used to determine the address of the instructions to be fetched, are termed
as implicit accesses. The read to fetch the instruction bytes themselves is
classified as an explicit read.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Implementations may report additional information about the transaction (e.g.,
whether speculative, on-demand vs. prefetch, etc.) in the <code>info_i</code> and/or
<code>suppl_info_i</code> registers.</p>
</div>
<div class="paragraph">
<p>A non-hart component may also perform implicit accesses in order to process an
explicit transaction. For example, processing a memory transaction may require
a fabric component to implicitly access a routing table data structure.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>If the detected error reports additional information in the <code>info_i</code> register
then the information-valid (<code>iv</code>) field is set to 1. If the detected error
reports additional supplemental information in the <code>suppl_info_i</code> register then
supplemental-information-valid (<code>siv</code>) field is set to 1. The <code>iv</code> and/or <code>siv</code>
fields may be hardwired to 0 if the error record does not provide information in
<code>info_i</code> and/or <code>suppl_info_i</code> registers. When <code>iv</code> is 0, the value in <code>info_i</code>
register is <code>UNSPECIFIED</code>. When <code>siv</code> is 0, the value in <code>suppl_info_i</code> register
is <code>UNSPECIFIED</code>.</p>
</div>
<div class="paragraph">
<p>If the error record holds a timestamp of when the last error was logged in the
<code>timestamp_i</code> register then the timestamp-valid (<code>tsv</code>) field is set to 1. This
field may be hardwired to 0 if the error record does not report a timestamp with
the error. When <code>tsv</code> field is 0, the value in <code>timestamp_i</code> register is
<code>UNSPECIFIED</code>.</p>
</div>
<div class="paragraph">
<p>The <code>scrub</code> bit is valid when a CE is logged and when set to 1 indicates that
the storage location that held the data value has been updated with the
corrected value (i.e., the data has been scrubbed). In an implementation that
cannot make this distinction then it may conservatively report this field as 0.
When the error record is not associated with storage elements (e.g., correcting
errors detected on bus transactions) this field may be hardwired to 0. If this
property is unconditionally true for a hardware unit then this field may be
hardwired to 1. For error classes other than CE, the interpretation of the <code>c</code>
bit may be specified in a future standard extension.</p>
</div>
<div class="paragraph">
<p>The error-code (<code>ec</code>) is a WARL field that holds an error code that provides a
description of the detected error. Standard <code>ec</code> encodings are defined in
<a href="#EC_ENCODINGS">Table 6</a>. If an error record detects an error that does not correspond
to a standard <code>ec</code> encoding then such errors may be reported using a custom
encoding. The custom encodings have the most significant bit set to 1 to
differentiate them from the standard encodings.</p>
</div>
<div class="paragraph">
<p>The read-in-progress (<code>rdip</code>) field is set to 1 by hardware when a new error is
recorded in an invalid status register and is cleared to 0 by hardware when a
valid status register is overwritten. When the <code>control_i.sinv</code> field is written
to 1, the <code>v</code> field is cleared to 0 only if the <code>rdip</code> field is 1. Gating the
clearing of the <code>v</code> field by the <code>rdip</code> field being 1 allows software to detect
an overwrite that may occur while it is in process of reading an error record.</p>
</div>
<div class="paragraph">
<p>An error record that supports the 1 setting of the <code>cece</code> field in <code>control_i</code>,
implements a corrected-error-counter in the <code>cec</code> field. The <code>cec</code> is a WARL
field. When <code>cece</code> is 1, the <code>cec</code> is incremented on each CE. If an unsigned
integer overflow occurs on an <code>cec</code> increment then the
corrected-error-counter-overflow (<code>ceco</code>) field is set to 1. The <code>cec</code>
continues to count following an overflow. The <code>cec</code> and <code>ceco</code> fields hold valid
data and continue to count even when the <code>v</code> field is 0.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Some hardware units may maintain a history of CE and may report a CE and may
increment the <code>cec</code> only if the error is not identical to a previously reported
CE.</p>
</div>
<div class="paragraph">
<p>Some hardware units may implement low pass filters (e.g., leaky buckets) that
throttle the rate at which CE are reported and counted.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>To invalidate a valid error record (presumably after having first read the error
record), software should write 1 to the <code>control_i.sinv</code> control bit to clear
the <code>v</code> bit in the <code>status_i</code> register of the error record. Using the <code>sinv</code>
control to clear the <code>v</code> bit, as compared to an explicit write to the register,
avoids overwriting the <code>cec</code> and <code>ceco</code> fields (which typically want to be
maintained across logged errors).</p>
</div>
<div class="paragraph">
<p>If software needs to initialize the <code>cec</code> and/or <code>ceco</code>, then a software write
to the <code>status_i</code> register is appropriate. Before performing the write, software
should first check for and read any valid error record, invalidate the error
record, and then write the register with the new <code>cec</code> and/or <code>ceco</code> value and
with <code>v=0</code>. If <code>status_i</code> register write was not accepted due to hardware
writing a new error into the record and setting the <code>v</code> field to 1, then software
should repeat this process.</p>
</div>
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>When an UEC or UED error is logged in an error record, the <code>cec</code> and <code>ceco</code>
fields of the error record are not modified and retain their values.</p>
</div>
</div>
<div class="sect3">
<h4 id="address-or-information-register-addr_info_i"><a class="anchor" href="#address-or-information-register-addr_info_i"></a>2.4.3. Address-or-Information Register (<code>addr_info_i</code>)</h4>
<div class="paragraph">
<p>The <code>addr_info_i</code> WARL register reports the address or other information
associated with the detected error when <code>status_i.ait</code> is not 0. If
<code>status_i.ait</code> is 0, the value in this register is <code>UNSPECIFIED</code>. An
implementation that does not report information in this register may hardwire
this register to 0. Some fields of this register may be hardwired to zero if the
field is unused to report any type of address or information.</p>
</div>
<div class="paragraph">
<p>When an address (a VA, GPA, or an SPA) is reported in this register, to the
extent possible, the error record should capture all significant parts of the
address. However, as a function of the type of error being logged some address
fields may be zeroes. Some of the highest address bits may be fixed or may be
sign-extensions or may be zero-extensions of the next lowest address bit
depending on the type of address reported.</p>
</div>
<div class="paragraph">
<p>When component specific information is reported in this register, the
interpretation of the information is component specific.</p>
</div>
</div>
<div class="sect3">
<h4 id="information-register-info_i"><a class="anchor" href="#information-register-info_i"></a>2.4.4. Information Register (<code>info_i</code>)</h4>
<div class="paragraph">
<p>The <code>info_i</code> WARL register provides additional information about the error when
<code>status_i.iv</code> is 1. If <code>status_i.iv</code> is 0, the value in this register is
<code>UNSPECIFIED</code>. An implementation that does not report any additional
information may hardwire this register to 0.</p>
</div>
<div class="paragraph">
<p>The format of the register is <code>UNSPECIFIED</code> by this specification. This field
may be interpreted using the error code in <code>status_i.ec</code> along with
implementation defined format and rules.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>This register may be used to report information for guiding recovery, error
nature (transient/permanent), error location (set/way, parity group, ECC
syndrome), and other details (protocol FSM state, assertion failures).
Components that are or monitor field replaceable units may log information in
this register to identify the failing component. For example, a memory
controller may log the DIMM channel, bank, column, row, rank, subRank, device
ID, etc.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect3">
<h4 id="supplemental-information-register-suppl_info_i"><a class="anchor" href="#supplemental-information-register-suppl_info_i"></a>2.4.5. Supplemental Information Register (<code>suppl_info_i</code>)</h4>
<div class="paragraph">
<p>The <code>suppl_info_i</code> WARL register provides additional information about the error
when <code>status_i.siv</code> is 1. This information may supplement the information
provided in <code>info_i</code> register. If <code>status_i.siv</code> is 0, the value in this
register is <code>UNSPECIFIED</code>. An implementation that does not report any
supplemental information may hardwire this register to 0.</p>
</div>
<div class="paragraph">
<p>The format of the register is <code>UNSPECIFIED</code> by this specification. This field
may be interpreted using the error code in <code>status_i.ec</code> along with
implementation specific and implementation defined format and rules.</p>
</div>
</div>
<div class="sect3">
<h4 id="timestamp-register-timestamp_i"><a class="anchor" href="#timestamp-register-timestamp_i"></a>2.4.6. Timestamp Register (<code>timestamp_i</code>)</h4>
<div class="paragraph">
<p>The <code>timestamp_i</code> WARL register provides a timestamp for the last error recorded
in the error record if <code>status_i.tsv</code> is 1. When <code>status.tsv</code> is 0, the value in
this register is <code>UNSPECIFIED</code>. An implementation that does not report a
timestamp may hardwire this register to 0. Some fields of the register may be
hardwired to zero if the field is unused to report the timestamp.</p>
</div>
<div class="paragraph">
<p>The nature, frequency, and resolution of the timestamp are <code>UNSPECIFIED</code>.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The timestamp may be constructed by a hardware unit using mechanism such as
sampling a local cycles counter (e.g., the cycles counter of a RISC-V hart, a
global counter (e.g, mtime, etc.), or other implementation specific means.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="sect2">
<h3 id="OVERWRITE_RULES"><a class="anchor" href="#OVERWRITE_RULES"></a>2.5. Error Record Overwrite Rules</h3>
<div class="paragraph">
<p>When a hardware unit detects an error and its error record is not valid, it
writes the error record with the error information and marks the record as
valid. However, if the error record is already valid, owing to an earlier
detected but unprocessed error, the decision to overwrite the error record with
new error information is determined by the new error&#8217;s severity and/or priority.</p>
</div>
<div class="paragraph">
<p>The overwrite rules allow a higher severity error to overwrite a lower severity
error. UEC has the highest severity, followed by UED, then CE, and finally,
informational. When the two errors have the same severity the priority of the
errors (as determined by <code>status_i.pri</code>) is used to determine if the error
record is overwritten. Higher priority errors overwrite the lower priority
errors. When an error record is overwritten by a higher severity error (UED/CE
by UEC, UED by UEC, or CE by UEC/UED), the status bits indicating the severity
of the older errors are retained (i.e., are sticky).</p>
</div>
<div class="paragraph">
<p>When an error writes or overwrites an error record, the <code>status_i.cec</code> and
<code>status_i.ceco</code> fields update from CEs and retain value for errors of other
severity. When implemented, <code>cec</code> counts CE occurrences; unsigned integer
overflow on <code>cec</code> increment sets <code>ceco</code> to 1.</p>
</div>
<div class="paragraph">
<p>Whenever a new error writes to or overwrites an error record, the signal
configured in the <code>control_i</code> register for its severity level is asserted. When
<code>status_i.ceco</code> changes from 0 to 1, the signal configured in <code>control_i.ces</code> is
asserted.</p>
</div>
<div style="page-break-after: always;"></div>
<div id="REC_WRITE_RULE" class="listingblock">
<div class="title">Listing 1. Error record writing rules</div>
<div class="content">
<pre>    Let new_status be the value to be recorded in status_i register for the new error
    overwrite = FALSE
    if status_i.v == 1
        // There is a valid first error recorded
        if ( severity(new_error) &gt; severity(status_i) )
            // Higher severity errors overwrite less severe errors and clear mo
            status_i.mo = 0
            overwrite = TRUE
        endif
        if ( severity(new_status) == severity(status_i) )
            // Second errors of the same severity set MO
            status_i.mo = 1
            // Second error of same severity overwrites previous error if it
            // has higher priority (status_i.pri).
            if ( new_status.pri &gt; status_i.pri )
                overwrite = TRUE;
            endif
        endif
        // previous error status bits are retained (sticky) but rdip bit is cleared.
        status_i.rdip = 0
        status_i.uec |= new_status.uec
        status_i.ued |= new_status.ued
        status_i.ce  |= new_status.ce
    else
        // No valid error recorded; new error logged, clearing sticky history
        // and MO bit, and rdip is set.
        status_i.rdip = 1
        status_i.uec = new_status.uec
        status_i.ued = new_status.ued &amp; ~new_status.uec
        status_i.ce = new_status.ce &amp; ~new_status.uec &amp; ~new_status.ued
        status_i.mo = 0
        overwrite = TRUE;
    endif
    if ( overwrite = TRUE )
        status_i.pri   = new_status.pri
        status_i.c     = new_status.c
        status_i.tt    = new_status.tt
        status_i.ait   = new_status.ait
        status_i.iv    = new_status.iv
        status_i.siv   = new_status.siv
        status_i.tsv   = new_status.tsv
        status_i.scrub = new_status.scrub
        status_i.ec    = new_status.ec
        // Update addr_info_i, info_i, suppl_info_i, and timestamp_i with new
        // error information, if valid.
        status_i.v = 1
    endif</pre>
</div>
</div>
<div style="page-break-after: always;"></div>
<div class="paragraph">
<p>If the <code>status_i.v</code>, <code>status_i.mo</code>, and <code>status_i.uec</code> are all 1 then the RAS
handler should preferably restart the system to bring it to a correct state as
an UEC record has been lost. If the <code>status_i.v</code> and <code>status_i.mo</code> are 1 but
<code>status_i.uec</code> is 0 (i.e., the logged error is a UED or a CE) then the RAS
handler may keep the system operational.</p>
</div>
<div class="paragraph">
<p>If multiple errors occur simultaneously then they may be recorded individually
in any order and the rules outlined in <a href="#REC_WRITE_RULE">Listing 1</a> lead to the highest
severity error among them being retained in the error record. When the error
record registers are written by an error, all registers that are written must
be written with information related to that error.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>When multiple errors occur simultaneously, some implementations may choose to
record each error individually following the rules outlined in
<a href="#REC_WRITE_RULE">Listing 1</a>. Other implementations may however choose to only record the
highest severity error or when they have the same severity the highest priority
error. And yet another implementation may choose to record one of the errors as
determined by implementation specific rules.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="error-reporting-defined-by-other-standards"><a class="anchor" href="#error-reporting-defined-by-other-standards"></a>2.6. Error Reporting Defined by Other Standards</h3>
<div class="paragraph">
<p>Standards such as PCIe cite:[PCI] and CXL cite:[CXL] define standardized error
reporting architectures such as the PCIe Advanced Error Reporting (AER).
Specifications such as CXL define a standardized set of RAS requirements for
hosts and devices.</p>
</div>
<div class="paragraph">
<p>The RISC-V RERI specification complements the error reporting architecture
defined by these standards with a RISC-V standard for reporting errors for
components that are not PCIe/CXL components. There may also be other error
reporting mechanisms, possibly custom, that are employed alongside the RERI
specification.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>The RISC-V system components such as PCIe root ports or PCIe Root Complex Event
Collectors may themselves implement error reporting compliant with the RISC-V
RERI specification and thus provide a unified error reporting mechanism in such
systems. For example, a root complex event collector may support an error record
to report errors logged in the Advanced Error Reporting (AER) log registers.</p>
</div>
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
</div>
<div class="sect2">
<h3 id="error-code-encodings"><a class="anchor" href="#error-code-encodings"></a>2.7. Error Code Encodings</h3>
<table id="EC_ENCODINGS" class="tableblock frame-all grid-all stretch">
<caption class="title">Table 6. Error code encodings</caption>
<colgroup>
<col style="width: 16.6666%;">
<col style="width: 83.3334%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top"><strong>Encoding</strong></th>
<th class="tableblock halign-left valign-top"><strong>Description</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">0</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">None</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">1</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Other unspecified error occurred</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">2</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Corrupted data access (e.g., attempt to consume poisoned data) error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">3</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache block data (e.g., ECC error on cache data) error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">4</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache scrubbing detected (e.g., ECC error on cache data) error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">5</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache address/control state (e.g., parity error tag or state) error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">6</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Cache unspecified error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">7</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Snoop-filter/directory address/control state
               (e.g., ECC error on tag or state) error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">8</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Snoop-filter/directory unspecified error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">9</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TLB/Page-walk cache data (e.g., ECC error on TLB data) error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">10</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TLB/Page-walk cache address/control state (e.g., ECC error on TLB
               tag) error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">11</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">TLB/Page-walk cache unspecified error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">12</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Hart state error (e.g., ECC error on CSRs or x/f/v registers)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">13</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interrupt controller state (e.g., ECC error on interrupt
               pending/enable state) error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">14</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interconnect data (e.g., ECC error on data bus) error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">15</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Interconnect other (e.g., parity error on address bus) error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">16</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal watchdog error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">17</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Internal datapath, memory, or execution units error
               (e.g, ALU datapath parity)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">18</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System memory command/address bus error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">19</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System memory unspecified error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">20</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System memory data (e.g., ECC error in SDRAM or HBM) error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System Memory scrubbing detected error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protocol Error - illegal input/output error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">23</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protocol Error - illegal/unexpected state error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">24</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Protocol Error - timeout error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">System internal controller (power management, security, etc.) error</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">26</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Deferred error pass-through (e.g., forwarding poisoned data) not supported</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">27</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">PCIe/CXL detected (e.g., logged into PCIe AER,
               CXL.mem error log, etc.) errors</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">28 - 63</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Reserved for future standard use</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">64 - 255</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Designated for custom use</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Unresolved include directive in modules/ROOT/pages/reri_header.adoc - include::reri_bibliography.adoc[]</p>
</div>
</div>
</div>
</div>
</article>  </div>
</main>
<div class="modal micromodal-slide" id="modal-versions" aria-hidden="true">
    <div class="modal__overlay" tabindex="-1" data-micromodal-close>
        <div class="modal__container" role="dialog" aria-modal="true">
            <main class="modal__content" id="modal-versions-content">
              <button data-micromodal-close class="modal-versions-close">
                <svg width="28px" height="28px" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><defs><style>.cls-1h{fill:none;stroke:#000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px;}</style></defs><title/><g id="cross"><line class="cls-1h" x1="7" x2="25" y1="7" y2="25"/><line class="cls-1h" x1="7" x2="25" y1="25" y2="7"/></g></svg>
              </button>
              <div class="colset">
                <div class="col-left">

                  <ul class="nav-versions">
                      <li class="component">
                        <div>
                          <a class="title" href="../../ffh/v1.0/index.html">ACPI Functional Fixed Hardware</a>
                        </div>                        <div class="version-item is-active">
                          <div>
                            <button class="version-toggle" type="button">
                              <span></span>
                              Stable
                            </button>
                          </div>
                          <ul class="versions">
  <li class="version">
    <a href="../../ffh/v1.0/index.html">
      v1.0
    </a>
  </li>
</ul>                        </div>
                        
                      </li>
                      <li class="component">
                        <div>
                          <a class="title" href="../../aia/v1.0/index.html">Advanced Interrupt Architecture</a>
                        </div>                        <div class="version-item is-active">
                          <div>
                            <button class="version-toggle" type="button">
                              <span></span>
                              Stable
                            </button>
                          </div>
                          <ul class="versions">
  <li class="version">
    <a href="../../aia/v1.0/index.html">
      v1.0
    </a>
  </li>
</ul>                        </div>
                        
                      </li>
                      <li class="component">
                        <div>
                          <a class="title" href="../../etrace/v1.0/index.html">E-Trace Encapsulation Specification</a>
                        </div>                        <div class="version-item is-active">
                          <div>
                            <button class="version-toggle" type="button">
                              <span></span>
                              Stable
                            </button>
                          </div>
                          <ul class="versions">
  <li class="version">
    <a href="../../etrace/v1.0/index.html">
      v1.0
    </a>
  </li>
</ul>                        </div>
                        
                      </li>
                      <li class="component">
                        <div>
                          <a class="title" href="../../psabi/v1.0/index.html">ELF psABI Specification</a>
                        </div>                        <div class="version-item is-active">
                          <div>
                            <button class="version-toggle" type="button">
                              <span></span>
                              Stable
                            </button>
                          </div>
                          <ul class="versions">
  <li class="version">
    <a href="../../psabi/v1.0/index.html">
      v1.0
    </a>
  </li>
</ul>                        </div>
                        
                      </li>
                      <li class="component">
                        <div>
                          <a class="title" href="../../iommuArch/v1.0/index.html">IOMMU Architecture</a>
                        </div>                        <div class="version-item is-active">
                          <div>
                            <button class="version-toggle" type="button">
                              <span></span>
                              Stable
                            </button>
                          </div>
                          <ul class="versions">
  <li class="version">
    <a href="../../iommuArch/v1.0/index.html">
      v1.0
    </a>
  </li>
</ul>                        </div>
                        
                      </li>
                      <li class="component">
                        <div>
                          <a class="title" href="../../isa/index.html">ISA Specifications</a>
                        </div>                        <div class="version-item is-active">
                          <div>
                            <button class="version-toggle" type="button">
                              <span></span>
                              Stable
                            </button>
                          </div>
                          <ul class="versions">
  <li class="version">
    <a href="../../isa/index.html">
      default
    </a>
  </li>
</ul>                        </div>
                        
                      </li>
                      <li class="component">
                        <div>
                          <a class="title" href="index.html">RERI Architecture</a>
                        </div>                        <div class="version-item is-active">
                          <div>
                            <button class="version-toggle" type="button">
                              <span></span>
                              Stable
                            </button>
                          </div>
                          <ul class="versions">
  <li class="version">
    <a href="index.html">
      v1.0
    </a>
  </li>
</ul>                        </div>
                        
                      </li>
                      <li class="component">
                        <div>
                          <a class="title" href="../../qos/v1.0/index.html">RISC-V Capacity and Bandwidth QoS Register Interface</a>
                        </div>                        <div class="version-item is-active">
                          <div>
                            <button class="version-toggle" type="button">
                              <span></span>
                              Stable
                            </button>
                          </div>
                          <ul class="versions">
  <li class="version">
    <a href="../../qos/v1.0/index.html">
      v1.0
    </a>
  </li>
</ul>                        </div>
                        
                      </li>
                      <li class="component">
                        <div>
                          <a class="title" href="../../plic/v1.0.0/index.html">RISC-V Platform-Level Interrupt Controller</a>
                        </div>                        <div class="version-item is-active">
                          <div>
                            <button class="version-toggle" type="button">
                              <span></span>
                              Stable
                            </button>
                          </div>
                          <ul class="versions">
  <li class="version">
    <a href="../../plic/v1.0.0/index.html">
      v1.0.0
    </a>
  </li>
</ul>                        </div>
                        
                      </li>
                      <li class="component">
                        <div>
                          <a class="title" href="../../semihost/v1.0/index.html">semihosting</a>
                        </div>                        <div class="version-item is-active">
                          <div>
                            <button class="version-toggle" type="button">
                              <span></span>
                              Stable
                            </button>
                          </div>
                          <ul class="versions">
  <li class="version">
    <a href="../../semihost/v1.0/index.html">
      v1.0
    </a>
  </li>
</ul>                        </div>
                        
                      </li>
                  </ul>
                </div>
                <div class="col-right">
                  <ul class="projects">
  <li>
    Related Spring Documentation
    <ul class="projects-list">
        <li>
<a href="https://docs.spring.io/spring-boot/">
  Spring Boot
</a>
</li>
        <li>
<a href="https://docs.spring.io/spring-framework/reference/">
  Spring Framework
</a>
</li>
        <li>
<a class="anchor"><i class="fa fa-angle-right" aria-hidden="true"></i></a>
  Spring Cloud
<ul>
    <li>
<a href="https://docs.spring.io/spring-cloud-build/reference/">
  Spring Cloud Build
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-bus/reference/">
  Spring Cloud Bus
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-circuitbreaker/reference/">
  Spring Cloud Circuit Breaker
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-commons/reference/">
  Spring Cloud Commons
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-config/reference/">
  Spring Cloud Config
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-consul/reference/">
  Spring Cloud Consul
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-contract/reference/">
  Spring Cloud Contract
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-function/reference/">
  Spring Cloud Function
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-gateway/reference/">
  Spring Cloud Gateway
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-kubernetes/reference/">
  Spring Cloud Kubernetes
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-netflix/reference/">
  Spring Cloud Netflix
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-openfeign/reference/">
  Spring Cloud OpenFeign
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-stream/reference/">
  Spring Cloud Stream
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-task/reference/">
  Spring Cloud Task
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-vault/reference/">
  Spring Cloud Vault
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-cloud-zookeeper/reference/">
  Spring Cloud Zookeeper
</a>
</li>
</ul>
</li>
        <li>
<a class="anchor"><i class="fa fa-angle-right" aria-hidden="true"></i></a>
  Spring Data
<ul>
    <li>
<a href="https://docs.spring.io/spring-data/cassandra/reference/">
  Spring Data Cassandra
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/commons/reference/">
  Spring Data Commons
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/couchbase/reference/">
  Spring Data Couchbase
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/elasticsearch/reference/">
  Spring Data Elasticsearch
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/jpa/reference/">
  Spring Data JPA
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/keyvalue/reference/">
  Spring Data KeyValue
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/ldap/reference/">
  Spring Data LDAP
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/mongodb/reference/">
  Spring Data MongoDB
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/neo4j/reference/">
  Spring Data Neo4j
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/redis/reference/">
  Spring Data Redis
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/relational/reference/">
  Spring Data JDBC &amp; R2DBC
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-data/rest/reference/">
  Spring Data REST
</a>
</li>
</ul>
</li>
        <li>
<a href="https://docs.spring.io/spring-integration/reference/">
  Spring Integration
</a>
</li>
        <li>
<a href="https://docs.spring.io/spring-batch/reference/">
  Spring Batch
</a>
</li>
        <li>
<a class="anchor"><i class="fa fa-angle-right" aria-hidden="true"></i></a>
<a href="https://docs.spring.io/spring-security/reference/">
  Spring Security
</a>
<ul>
    <li>
<a href="https://docs.spring.io/spring-authorization-server/reference/">
  Spring Authorization Server
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-ldap/reference/">
  Spring LDAP
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-security-kerberos/reference/">
  Spring Security Kerberos
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-session/reference/">
  Spring Session
</a>
</li>
    <li>
<a href="https://docs.spring.io/spring-vault/reference/">
  Spring Vault
</a>
</li>
</ul>
</li>
        <li>
<a href="https://docs.spring.io/spring-ai/reference/">
  Spring AI
</a>
</li>
        <li>
<a href="https://docs.spring.io/spring-amqp/reference/">
  Spring AMQP
</a>
</li>
        <li>
<a href="https://docs.spring.io/spring-cli/reference/">
  Spring CLI
</a>
</li>
        <li>
<a href="https://docs.spring.io/spring-graphql/reference/">
  Spring GraphQL
</a>
</li>
        <li>
<a href="https://docs.spring.io/spring-kafka/reference/">
  Spring for Apache Kafka
</a>
</li>
        <li>
<a href="https://docs.spring.io/spring-modulith/reference/">
  Spring Modulith
</a>
</li>
        <li>
<a href="https://docs.spring.io/spring-pulsar/reference/">
  Spring for Apache Pulsar
</a>
</li>
        <li>
<a href="https://docs.spring.io/spring-shell/reference/">
  Spring Shell
</a>
</li>
    </ul>
  </li
  <li><a href="../../spring-projects.html">All Docs...</a></li>
</ul>
                </div>
              </div>
            </main>
        </div>
    </div>
</div>

</div>
<footer class="hidden">
</footer><script src="../../_/js/vendor/import.js"></script>
<script src="../../_/js/site.js"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
<script async src="../../_/js/vendor/spring-tabs.js" data-sync-storage-key="docs:preferred-tab"></script>
  </body>
</html>
